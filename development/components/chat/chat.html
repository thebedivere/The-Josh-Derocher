<div class="container" ng-if="userToken">
    <div class="chat">
        <div class="chat-history" id="chat-history">
            <ul>
                <li ng-repeat="chat in chat |  orderBy: '-timestamp' | limitTo: limit | orderBy: 'timestamp'">
                    <span class="{{ chat.userName }}">{{chat.userName}}:</span>
                    <span class="chat-message">
                        <span ng-bind-html="chat.message | image "></span>
                    </span>
                    <span class="chat-timestamp"> {{chat.timestamp | date : 'shortTime'}}</span>
                </li>
            </ul>
        </div>
        <form novalidate>
            <input type="text" id="message" ng-model="formData.message" autofocus>
            <button type="submit" ng-click="sendMessage()">Send</button>
        </form>
    </div>
    <div class="user-login">
        <a ng-click="userLogOut();" href="/#/user">Log Out</a>
    </div>
</div>
<div class="container" ng-if="!userToken">
    <div class="blog-post">
    <div class="user-login">
        <p>You have to be logged in to view this page.</p>
        <a href="/#/user">Log in</a>
    </div>
    </div>
</div>
